<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PocketSphinx: hash_entry_s Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PocketSphinx
   &#160;<span id="projectnumber">5.0.0rc2</span>
   </div>
   <div id="projectbrief">A small speech recognizer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structhash__entry__s-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hash_entry_s Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="hash__table_8h_source.html">hash_table.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2566ac1233761789585363a283385321"><td class="memItemLeft" align="right" valign="top"><a id="a2566ac1233761789585363a283385321"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>key</b></td></tr>
<tr class="separator:a2566ac1233761789585363a283385321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1ec5f16059ced6d9a8ae4d36ca7e2b3"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhash__entry__s.html#af1ec5f16059ced6d9a8ae4d36ca7e2b3">len</a></td></tr>
<tr class="separator:af1ec5f16059ced6d9a8ae4d36ca7e2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d57012963084fed93886681108aa636"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhash__entry__s.html#a0d57012963084fed93886681108aa636">val</a></td></tr>
<tr class="separator:a0d57012963084fed93886681108aa636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa855ac854b9c36cf23f60d9ac8093e7f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhash__entry__s.html">hash_entry_s</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhash__entry__s.html#aa855ac854b9c36cf23f60d9ac8093e7f">next</a></td></tr>
<tr class="separator:aa855ac854b9c36cf23f60d9ac8093e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A note by ARCHAN at 20050510: Technically what we use is so-called "hash table with buckets" which is very nice way to deal with external hashing. There are definitely better ways to do internal hashing (i.e. when everything is stored in the memory.) In Sphinx 3, this is a reasonable practice because hash table is only used in lookup in initialization or in lookups which is not critical for speed. Another note by ARCHAN at 20050703: To use this data structure properly, it is very important to realize that the users are required to handle memory allocation of the C-style keys. The hash table will not make a copy of the memory allocated for any of the C-style key. It will not allocate memory for it. It will not delete memory for it. As a result, the following code sniplet will cause memory leak. <br  />
</p>
<p>while (1){ str=(char*)<a class="el" href="ckd__alloc_8h.html#aa00ef21903bc4f8a972488417adc8d2e">ckd_calloc(str_length,sizeof(char*))</a> if(hash_enter(ht,str,id)!=id){ printf("fail to add key str %s with val id %d\n",str,id)} } A note by dhuggins on 20061010: Changed this to use void * instead of int32 as the value type, so that arbitrary objects can be inserted into a hash table (in a way that won't crash on 64-bit machines ;) The hash table structures. Each hash table is identified by a hash_table_t structure. hash_table_t.table is pre-allocated for a user-controlled max size, and is initially empty. As new entries are created (using hash_enter()), the empty entries get filled. If multiple keys hash to the same entry, new entries are allocated and linked together in a linear list. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="af1ec5f16059ced6d9a8ae4d36ca7e2b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1ec5f16059ced6d9a8ae4d36ca7e2b3">&#9670;&nbsp;</a></span>len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hash_entry_s::len</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Key string, NULL if this is an empty slot. NOTE that the key must not be changed once the entry has been made. </p>

</div>
</div>
<a id="aa855ac854b9c36cf23f60d9ac8093e7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa855ac854b9c36cf23f60d9ac8093e7f">&#9670;&nbsp;</a></span>next</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhash__entry__s.html">hash_entry_s</a>* hash_entry_s::next</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Value associated with above key </p>

</div>
</div>
<a id="a0d57012963084fed93886681108aa636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d57012963084fed93886681108aa636">&#9670;&nbsp;</a></span>val</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* hash_entry_s::val</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Key-length; the key string does not have to be a C-style NULL terminated string; it can have arbitrary binary bytes </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>sphinxbase/<a class="el" href="hash__table_8h_source.html">hash_table.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
