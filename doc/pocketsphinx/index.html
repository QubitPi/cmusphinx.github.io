<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PocketSphinx: PocketSphinx API Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PocketSphinx
   &#160;<span id="projectnumber">5.0.0rc3</span>
   </div>
   <div id="projectbrief">A small speech recognizer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PocketSphinx API Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>David Huggins-Daines <a href="#" onclick="location.href='mai'+'lto:'+'dhd'+'ai'+'nes'+'@g'+'mai'+'l.'+'com'; return false;">dhdai<span style="display: none;">.nosp@m.</span>nes@<span style="display: none;">.nosp@m.</span>gmail<span style="display: none;">.nosp@m.</span>.com</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>5.0.0rc3 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>September 7, 2022</dd></dl>
<h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>This is the documentation for the PocketSphinx speech recognition engine. The main API calls are documented in &lt;<a class="el" href="pocketsphinx_8h.html">pocketsphinx.h</a>&gt;.</p>
<h1><a class="anchor" id="install_sec"></a>
Installation</h1>
<p>To install from source, you will need a C compiler and a recent version of CMake. If you wish to use an integrated development environment, Visual Studio Code will automate most of this process for you once you have installed C++ and CMake support as described at <a href="https://code.visualstudio.com/docs/languages/cpp">https://code.visualstudio.com/docs/languages/cpp</a></p>
<h2><a class="anchor" id="python_install"></a>
Python module install</h2>
<p>The easiest way to program PocketSphinx is with the Python module. This can be installed in a <a href="https://docs.python.org/3/library/venv.html">VirtualEnv</a> or <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/concepts/environments.html">Conda</a> environment without affecting the rest of your system. For example, from the <em>top-level source directory</em>: </p><pre class="fragment">python3 -m venv ~/ve_pocketsphinx
. ~/ve_pocketsphinx/bin/activate
pip install .
</pre><p>There is no need to create a separate build directory as <code>pip</code> will do this for you.</p>
<h2><a class="anchor" id="unix_install"></a>
Unix-like systems</h2>
<p>From the top-level source directory, use CMake to generate a build directory: </p><pre class="fragment">cmake -S . -B build
</pre><p>Now you can compile and run the tests, and install the code: </p><pre class="fragment">cmake --build build
cmake --build build --target check
cmake --build build --target install
</pre><p>By default CMake will try to install things in <code>/usr/local</code>, which you might not have access to. If you want to install somewhere else you need to set <code>CMAKE_INSTALL_PREFIX</code> <em>when running cmake for the first time</em>, for example: </p><pre class="fragment">cmake -S . -B build -DCMAKE_INSTALL_PREFIX=$HOME/.local
</pre><p>In this case you may also need to set the <code>LD_LIBRARY_PATH</code> environment variable so that the PocketSphinx library can be found: </p><pre class="fragment">export LD_LIBRARY_PATH=$HOME/.local/lib
</pre><h2><a class="anchor" id="windows_install"></a>
Windows</h2>
<p>On Windows, the process is similar, but you will need to tell CMake what build tool you are using with the <code>-G</code> option, and there are many of them. The build is known to work with <code>nmake</code> but it is easiest just to use Visual Studio Code, which should automatically detect and offer to run the build when you add the source directory to your list of directories. Once built, you will find the DLL and EXE files in <code>build\Debug</code> or <code>build\Release</code> depending on your build type. If the EXE files do not run, you need to ensure that <code>pocketsphinx.dll</code> is located in the same directory as them.</p>
<h1><a class="anchor" id="programming_sec"></a>
Using the Library</h1>
<p>The Python interface is documented at <a href="http://pocketsphinx.readthedocs.io/,">http://pocketsphinx.readthedocs.io/,</a> where you will find a quick start guide as well as a full API reference.</p>
<h1><a class="anchor" id="faq_sec"></a>
Frequently Asked Questions</h1>
<h2><a class="anchor" id="faq_audio"></a>
Why doesn't my audio device work?</h2>
<p>Because it's an audio device. They don't work, at least for things other than making annoying "beep boop" noises and playing Video Games. More generally, I cannot solve this problem for you, because every single computer, operating system, sound card, microphone, phase of the moon, and day of the week is different when it comes to recording audio. That's why I suggest you use SoX, because (a) it usually works, and (b) whoever wrote it seems to have retired long ago, so you can't bother them.</p>
<h2><a class="anchor" id="faq_error"></a>
The recognized text is wrong.</h2>
<p>That's not a question! But since this isn't Jeopardy, and my name is not Watson, I'll try to answer it anyway. Be aware that the answer depends on many things, first and foremost what you mean by "wrong".</p>
<p>If it <em>sounds</em> the same, e.g. "wreck a nice beach" when you said "recognize speech" then the issue is that the <b>language model</b> is not appropriate for the task, domain, dialect, or whatever it is you're trying to recognize. You may wish to consider writing a JSGF grammar and using it instead of the default language model (with the <code>-jsgf</code> flag). Or you can get an N-best list or word lattice and rescore it with a better language model, such as a recurrent neural network or a human being.</p>
<p>If it is total nonsense, or if it is just blank, or if it's the same word repeated, e.g. "a a a a a a", then there is likely a problem with the input audio. The sampling rate could be wrong, or even if it's correct, you may have narrow-band data. Try to look at the spectrogram (Audacity can show you this) and see if it looks empty or flat below the frequency in the <code>-upperf</code> flag. Alternately it could just be very noisy. In particular, if the noise consists of other people talking, automatic speech recognition will nearly always fail.</p>
<h2><a class="anchor" id="faq_tech"></a>
Why don't you support (pick one or more: WFST,</h2>
<p>fMLLR, SAT, DNN, CTC, LAS, CNN, RNN, LSTM, etc)?</p>
<p>Not because there's anything wrong with those things (except LAS, which is kind of a dumb idea) but simply because PocketSphinx does not do them, or anything like them, and there is no point in adding them to it when other systems exist. Many of them are also heavily dependent on distasteful and wasteful platforms like C++, CUDA, TensorFlow, PyTorch, and so on.</p>
<h1><a class="anchor" id="thanks_sec"></a>
Acknowledgements</h1>
<p>PocketSphinx was originally released by David Huggins-Daines, but is largely based on the previous Sphinx-II and Sphinx-III systems, developed by a large number of contributors at Carnegie Mellon University, and released as open source under a BSD-like license thanks to Kevin Lenzo. For some time, it was maintained by Nickolay Shmyrev and others at Alpha Cephei, Inc. See the <code>AUTHORS</code> file for a list of contributors. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
