<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PocketSphinx: sphinxbase/pio.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PocketSphinx
   &#160;<span id="projectnumber">5.0.0rc1</span>
   </div>
   <div id="projectbrief">A small speech recognizer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_da7289121d0013e03540a8198af12b2c.html">sphinxbase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pio.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>file IO related operations. <br  />
  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sphinxbase/sphinxbase_export.h&gt;</code><br />
<code>#include &lt;<a class="el" href="prim__type_8h_source.html">sphinxbase/prim_type.h</a>&gt;</code><br />
</div>
<p><a href="pio_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlineiter__t.html">lineiter_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a96b37e449c7f8698fcfafac1c46cebb2"><td class="memItemLeft" align="right" valign="top"><a id="a96b37e449c7f8698fcfafac1c46cebb2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>myfopen</b>(file,  mode)&#160;&#160;&#160;<a class="el" href="pio_8h.html#aa22301f25d56be607c9ff45f2c935b14">_myfopen</a>((file),(mode),__FILE__,__LINE__)</td></tr>
<tr class="separator:a96b37e449c7f8698fcfafac1c46cebb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6d2f813f464a5cdcb8d96f80336d7d0d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structlineiter__t.html">lineiter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a6d2f813f464a5cdcb8d96f80336d7d0d">lineiter_t</a></td></tr>
<tr class="separator:a6d2f813f464a5cdcb8d96f80336d7d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72c3bec19638da72dad3849f75c0cd9"><td class="memItemLeft" align="right" valign="top">typedef struct bit_encode_s&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a></td></tr>
<tr class="separator:ae72c3bec19638da72dad3849f75c0cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa3d71506049eb49cf03eff1b89ef281f"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#aa3d71506049eb49cf03eff1b89ef281f">fopen_comp</a> (const char *file, const char *mode, int32 *ispipe)</td></tr>
<tr class="separator:aa3d71506049eb49cf03eff1b89ef281f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87592c3a2d0a00eed9eda014950beb65"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a87592c3a2d0a00eed9eda014950beb65">fclose_comp</a> (FILE *fp, int32 ispipe)</td></tr>
<tr class="separator:a87592c3a2d0a00eed9eda014950beb65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addfd26392f118f811584721b8d4854ce"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#addfd26392f118f811584721b8d4854ce">fopen_compchk</a> (const char *file, int32 *ispipe)</td></tr>
<tr class="separator:addfd26392f118f811584721b8d4854ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22301f25d56be607c9ff45f2c935b14"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#aa22301f25d56be607c9ff45f2c935b14">_myfopen</a> (const char *file, const char *mode, const char *pgm, int32 line)</td></tr>
<tr class="separator:aa22301f25d56be607c9ff45f2c935b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a601277430d3221bf1906bb879ae26d3e"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a601277430d3221bf1906bb879ae26d3e">fread_retry</a> (void *pointer, int32 size, int32 num_items, FILE *stream)</td></tr>
<tr class="separator:a601277430d3221bf1906bb879ae26d3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e0daa4f315d01c2e030d3a0abe702c"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a11e0daa4f315d01c2e030d3a0abe702c">fread_line</a> (FILE *stream, size_t *out_len)</td></tr>
<tr class="separator:a11e0daa4f315d01c2e030d3a0abe702c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d0125ab198f02f8bbe543417d99566"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT <a class="el" href="structlineiter__t.html">lineiter_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a22d0125ab198f02f8bbe543417d99566">lineiter_start</a> (FILE *fh)</td></tr>
<tr class="separator:a22d0125ab198f02f8bbe543417d99566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ce4c15a564179e9148445fe44ac482"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT <a class="el" href="structlineiter__t.html">lineiter_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a45ce4c15a564179e9148445fe44ac482">lineiter_start_clean</a> (FILE *fh)</td></tr>
<tr class="separator:a45ce4c15a564179e9148445fe44ac482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8df0b6928746d61b3520555263f71e"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT <a class="el" href="structlineiter__t.html">lineiter_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#aff8df0b6928746d61b3520555263f71e">lineiter_next</a> (<a class="el" href="structlineiter__t.html">lineiter_t</a> *li)</td></tr>
<tr class="separator:aff8df0b6928746d61b3520555263f71e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f80e5d4d666426cef229dd41237d9cf"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a3f80e5d4d666426cef229dd41237d9cf">lineiter_free</a> (<a class="el" href="structlineiter__t.html">lineiter_t</a> *li)</td></tr>
<tr class="separator:a3f80e5d4d666426cef229dd41237d9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d612f02b2077ffb11cc37c3522b10d7"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a7d612f02b2077ffb11cc37c3522b10d7">lineiter_lineno</a> (<a class="el" href="structlineiter__t.html">lineiter_t</a> *li)</td></tr>
<tr class="separator:a7d612f02b2077ffb11cc37c3522b10d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8151758d03263dfcb555bd5705bec8a"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT <a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#aa8151758d03263dfcb555bd5705bec8a">bit_encode_attach</a> (FILE *outfh)</td></tr>
<tr class="separator:aa8151758d03263dfcb555bd5705bec8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ddd28478e684dab74c7028b9087a411"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT <a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a3ddd28478e684dab74c7028b9087a411">bit_encode_retain</a> (<a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *be)</td></tr>
<tr class="separator:a3ddd28478e684dab74c7028b9087a411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab3b796e62929bff496354504ee820c"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a1ab3b796e62929bff496354504ee820c">bit_encode_free</a> (<a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *be)</td></tr>
<tr class="separator:a1ab3b796e62929bff496354504ee820c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8478b89732ae5f6e3e98df3653da95c1"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a8478b89732ae5f6e3e98df3653da95c1">bit_encode_write</a> (<a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *be, unsigned char const *bits, int nbits)</td></tr>
<tr class="separator:a8478b89732ae5f6e3e98df3653da95c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6bc11dcb277a392f443602b1286d0f6"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#aa6bc11dcb277a392f443602b1286d0f6">bit_encode_write_cw</a> (<a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *be, uint32 codeword, int nbits)</td></tr>
<tr class="separator:aa6bc11dcb277a392f443602b1286d0f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43fac094cfa2614c3adcbd7d97019489"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a43fac094cfa2614c3adcbd7d97019489">bit_encode_flush</a> (<a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *be)</td></tr>
<tr class="separator:a43fac094cfa2614c3adcbd7d97019489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba35509687e80ee65ba731c7cfcad9b"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a0ba35509687e80ee65ba731c7cfcad9b">stat_retry</a> (const char *file, struct stat *statbuf)</td></tr>
<tr class="separator:a0ba35509687e80ee65ba731c7cfcad9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289e3a1582ab60563ae0689979992669"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a289e3a1582ab60563ae0689979992669">stat_mtime</a> (const char *file)</td></tr>
<tr class="separator:a289e3a1582ab60563ae0689979992669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6df697b8a08cd4d11fe7b864dcb99012"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a6df697b8a08cd4d11fe7b864dcb99012">build_directory</a> (const char *path)</td></tr>
<tr class="separator:a6df697b8a08cd4d11fe7b864dcb99012"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>file IO related operations. <br  />
 </p>
<p>Custom fopen with error checking is implemented. fopen_comp can open a file with .z, .Z, .gz or .GZ extension</p>
<p>WARNING: Usage of stat_retry will results in 100s of waiting time if the file doesn't exist. <br  />
 </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="ae72c3bec19638da72dad3849f75c0cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae72c3bec19638da72dad3849f75c0cd9">&#9670;&nbsp;</a></span>bit_encode_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct bit_encode_s <a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bitstream encoder - for writing compressed files. </p>

</div>
</div>
<a id="a6d2f813f464a5cdcb8d96f80336d7d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d2f813f464a5cdcb8d96f80336d7d0d">&#9670;&nbsp;</a></span>lineiter_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structlineiter__t.html">lineiter_t</a> <a class="el" href="structlineiter__t.html">lineiter_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Line iterator for files. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa22301f25d56be607c9ff45f2c935b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa22301f25d56be607c9ff45f2c935b14">&#9670;&nbsp;</a></span>_myfopen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT FILE* _myfopen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wrapper around fopen to check for failure and E_FATAL if failed. </p>

</div>
</div>
<a id="aa8151758d03263dfcb555bd5705bec8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8151758d03263dfcb555bd5705bec8a">&#9670;&nbsp;</a></span>bit_encode_attach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT <a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a>* bit_encode_attach </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>outfh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attach bitstream encoder to a file. </p>

</div>
</div>
<a id="a43fac094cfa2614c3adcbd7d97019489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43fac094cfa2614c3adcbd7d97019489">&#9670;&nbsp;</a></span>bit_encode_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int bit_encode_flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *&#160;</td>
          <td class="paramname"><em>be</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flush any unwritten bits, zero-padding if necessary. </p>

</div>
</div>
<a id="a1ab3b796e62929bff496354504ee820c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ab3b796e62929bff496354504ee820c">&#9670;&nbsp;</a></span>bit_encode_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int bit_encode_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *&#160;</td>
          <td class="paramname"><em>be</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release pointer to a bit encoder.</p>
<p>Note that this does NOT flush any leftover bits. </p>

</div>
</div>
<a id="a3ddd28478e684dab74c7028b9087a411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ddd28478e684dab74c7028b9087a411">&#9670;&nbsp;</a></span>bit_encode_retain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT <a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a>* bit_encode_retain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *&#160;</td>
          <td class="paramname"><em>be</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retain pointer to a bit encoder. </p>

</div>
</div>
<a id="a8478b89732ae5f6e3e98df3653da95c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8478b89732ae5f6e3e98df3653da95c1">&#9670;&nbsp;</a></span>bit_encode_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int bit_encode_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *&#160;</td>
          <td class="paramname"><em>be</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char const *&#160;</td>
          <td class="paramname"><em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write bits to encoder. </p>

</div>
</div>
<a id="aa6bc11dcb277a392f443602b1286d0f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6bc11dcb277a392f443602b1286d0f6">&#9670;&nbsp;</a></span>bit_encode_write_cw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int bit_encode_write_cw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pio_8h.html#ae72c3bec19638da72dad3849f75c0cd9">bit_encode_t</a> *&#160;</td>
          <td class="paramname"><em>be</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>codeword</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write lowest-order bits of codeword to encoder. </p>

</div>
</div>
<a id="a6df697b8a08cd4d11fe7b864dcb99012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6df697b8a08cd4d11fe7b864dcb99012">&#9670;&nbsp;</a></span>build_directory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int build_directory </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a directory and all of its parent directories, as needed.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, &lt;0 on failure. </dd></dl>

</div>
</div>
<a id="a87592c3a2d0a00eed9eda014950beb65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87592c3a2d0a00eed9eda014950beb65">&#9670;&nbsp;</a></span>fclose_comp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT void fclose_comp </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>ispipe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close a file opened using fopen_comp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>In: File pointer to be closed </td></tr>
    <tr><td class="paramname">ispipe</td><td>In: ispipe argument that was returned by the corresponding <a class="el" href="pio_8h.html#aa3d71506049eb49cf03eff1b89ef281f">fopen_comp()</a> call </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa3d71506049eb49cf03eff1b89ef281f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3d71506049eb49cf03eff1b89ef281f">&#9670;&nbsp;</a></span>fopen_comp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT FILE* fopen_comp </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32 *&#160;</td>
          <td class="paramname"><em>ispipe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like fopen, but use popen and zcat if it is determined that "file" is compressed (i.e., has a .z, .Z, .gz, or .GZ extension). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>In: File to be opened </td></tr>
    <tr><td class="paramname">mode</td><td>In: "r" or "w", as with normal fopen </td></tr>
    <tr><td class="paramname">ispipe</td><td>Out: On return *ispipe is TRUE iff file was opened via a pipe </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="addfd26392f118f811584721b8d4854ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addfd26392f118f811584721b8d4854ce">&#9670;&nbsp;</a></span>fopen_compchk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT FILE* fopen_compchk </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32 *&#160;</td>
          <td class="paramname"><em>ispipe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a file for reading, but if file not present try to open compressed version (if file is uncompressed, and vice versa). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>In: File to be opened </td></tr>
    <tr><td class="paramname">ispipe</td><td>Out: On return *ispipe is TRUE iff file was opened via a pipe </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a11e0daa4f315d01c2e030d3a0abe702c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11e0daa4f315d01c2e030d3a0abe702c">&#9670;&nbsp;</a></span>fread_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT char* fread_line </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>out_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a line of arbitrary length from a file and return it as a newly allocated string.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated:</a></b></dt><dd>Use line iterators instead.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The file handle to read from. </td></tr>
    <tr><td class="paramname">out_len</td><td>Output: if not NULL, length of the string read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>allocated string containing the line, or NULL on error or EOF. </dd></dl>

</div>
</div>
<a id="a601277430d3221bf1906bb879ae26d3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a601277430d3221bf1906bb879ae26d3e">&#9670;&nbsp;</a></span>fread_retry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int32 fread_retry </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>num_items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NFS file reads seem to fail now and then. Use the following functions in place of the regular fread. It retries failed freads several times and quits only if all of them fail. Be aware, however, that even normal failures such as attempting to read beyond EOF will trigger such retries, wasting about a minute in retries. Arguments identical to regular fread. </p>

</div>
</div>
<a id="a3f80e5d4d666426cef229dd41237d9cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f80e5d4d666426cef229dd41237d9cf">&#9670;&nbsp;</a></span>lineiter_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT void lineiter_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlineiter__t.html">lineiter_t</a> *&#160;</td>
          <td class="paramname"><em>li</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop reading lines from a file. </p>

</div>
</div>
<a id="a7d612f02b2077ffb11cc37c3522b10d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d612f02b2077ffb11cc37c3522b10d7">&#9670;&nbsp;</a></span>lineiter_lineno()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int lineiter_lineno </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlineiter__t.html">lineiter_t</a> *&#160;</td>
          <td class="paramname"><em>li</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns current line number. </p>

</div>
</div>
<a id="aff8df0b6928746d61b3520555263f71e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff8df0b6928746d61b3520555263f71e">&#9670;&nbsp;</a></span>lineiter_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT <a class="el" href="structlineiter__t.html">lineiter_t</a>* lineiter_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlineiter__t.html">lineiter_t</a> *&#160;</td>
          <td class="paramname"><em>li</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move to the next line in the file. </p>

</div>
</div>
<a id="a22d0125ab198f02f8bbe543417d99566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22d0125ab198f02f8bbe543417d99566">&#9670;&nbsp;</a></span>lineiter_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT <a class="el" href="structlineiter__t.html">lineiter_t</a>* lineiter_start </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start reading lines from a file. </p>

</div>
</div>
<a id="a45ce4c15a564179e9148445fe44ac482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45ce4c15a564179e9148445fe44ac482">&#9670;&nbsp;</a></span>lineiter_start_clean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT <a class="el" href="structlineiter__t.html">lineiter_t</a>* lineiter_start_clean </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start reading lines from a file, skip comments and trim lines. </p>

</div>
</div>
<a id="a289e3a1582ab60563ae0689979992669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a289e3a1582ab60563ae0689979992669">&#9670;&nbsp;</a></span>stat_mtime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int32 stat_mtime </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return time of last modification for the given file, or -1 if stat fails. </p>

</div>
</div>
<a id="a0ba35509687e80ee65ba731c7cfcad9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ba35509687e80ee65ba731c7cfcad9b">&#9670;&nbsp;</a></span>stat_retry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int32 stat_retry </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct stat *&#160;</td>
          <td class="paramname"><em>statbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>There is no bitstream decoder, because a stream abstraction is too slow. Instead we read blocks of bits and treat them as bitvectors. Like fread_retry, but for stat. Arguments identical to regular stat. Return value: 0 if successful, -1 if stat failed several attempts. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
